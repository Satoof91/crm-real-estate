@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Premium Color Palette - Clean & Professional */
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Primary: Deep Royal Blue */
    --primary: 221 83% 53%;
    --primary-foreground: 210 40% 98%;

    /* Secondary: Slate */
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222 47% 11%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221 83% 53%;

    --radius: 0.75rem;

    --font-sans: "Inter", system-ui, sans-serif;
  }

  .dark {
    /* Midnight Sapphire - Premium & Professional */
    /* Deep Space Navy - Rich, not flat */
    --background: 220 30% 8%;
    --foreground: 210 40% 98%;

    /* Elevated Surfaces - Clear hierarchy */
    --card: 220 25% 12%;
    --card-foreground: 210 40% 98%;

    --popover: 220 25% 14%;
    --popover-foreground: 210 40% 98%;

    /* Electric Cyan Primary - Modern & Energetic */
    --primary: 190 95% 55%;
    --primary-foreground: 220 30% 8%;

    /* Subtle Slate Secondary */
    --secondary: 220 20% 18%;
    --secondary-foreground: 210 30% 85%;

    /* Muted with better contrast */
    --muted: 220 18% 20%;
    --muted-foreground: 215 15% 60%;

    /* Warm Amber Accents - Attention & Warmth */
    --accent: 38 92% 58%;
    --accent-foreground: 220 30% 8%;

    /* Destructive with depth */
    --destructive: 0 72% 51%;
    --destructive-foreground: 210 40% 98%;

    /* Borders with subtle glow */
    --border: 220 20% 22%;
    --input: 220 20% 22%;
    --ring: 190 95% 55%;

    /* Elevation System - Multiple depth layers */
    --surface-0: 220 30% 8%;
    --surface-1: 220 25% 12%;
    --surface-2: 220 22% 16%;
    --surface-3: 220 20% 20%;
    --surface-4: 220 18% 24%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans tracking-tight;
  }
}

@layer utilities {

  /* === MIDNIGHT SAPPHIRE THEME UTILITIES === */

  /* Elevation System - Clear visual hierarchy */
  .surface-base {
    background: hsl(220 30% 8%);
  }

  .surface-elevated-1 {
    background: hsl(220 25% 12%);
  }

  .surface-elevated-2 {
    background: hsl(220 22% 16%);
  }

  .surface-elevated-3 {
    background: hsl(220 20% 20%);
  }

  .surface-elevated-4 {
    background: hsl(220 18% 24%);
  }

  /* Enhanced Glassmorphism */
  .glass {
    @apply bg-white/70 dark:bg-white/5 backdrop-blur-xl border border-white/20 dark:border-white/10 shadow-lg;
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .glass-card {
    @apply bg-white/50 dark:bg-white/3 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-sm hover:shadow-md transition-all duration-300;
  }

  /* Neon Glow Effects - Midnight Sapphire signature */
  .glow-cyan {
    box-shadow:
      0 0 20px hsl(190 95% 55% / 0.2),
      0 0 40px hsl(190 95% 55% / 0.1);
  }

  .glow-cyan-sm {
    box-shadow: 0 0 15px hsl(190 95% 55% / 0.25);
  }

  .glow-cyan-md {
    box-shadow:
      0 0 20px hsl(190 95% 55% / 0.3),
      0 0 40px hsl(190 95% 55% / 0.15);
  }

  .glow-cyan-lg {
    box-shadow:
      0 0 30px hsl(190 95% 55% / 0.4),
      0 0 60px hsl(190 95% 55% / 0.2),
      0 0 90px hsl(190 95% 55% / 0.1);
  }

  .glow-amber {
    box-shadow:
      0 0 20px hsl(38 92% 58% / 0.2),
      0 0 40px hsl(38 92% 58% / 0.1);
  }

  /* Premium Gradients - Updated for Midnight Sapphire */
  .bg-gradient-primary {
    @apply bg-gradient-to-br from-cyan-500 via-blue-500 to-indigo-600 text-white;
  }

  .bg-gradient-success {
    @apply bg-gradient-to-br from-emerald-400 to-teal-600 text-white;
  }

  .bg-gradient-warning {
    @apply bg-gradient-to-br from-amber-400 to-orange-600 text-white;
  }

  /* Gradient Midnight - Signature background */
  .gradient-midnight {
    background: linear-gradient(135deg,
        hsl(220 30% 8%) 0%,
        hsl(220 35% 10%) 50%,
        hsl(220 30% 8%) 100%);
  }

  /* Animated Grid Background */
  .bg-animated-grid {
    background-image:
      linear-gradient(hsl(190 95% 55% / 0.03) 1px, transparent 1px),
      linear-gradient(90deg, hsl(190 95% 55% / 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: grid-flow 20s linear infinite;
  }

  @keyframes grid-flow {
    0% {
      background-position: 0 0;
    }

    100% {
      background-position: 50px 50px;
    }
  }

  /* Soft Shadows */
  .shadow-soft {
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.08);
  }

  .shadow-glow-primary {
    box-shadow: 0 0 20px -5px hsl(var(--primary) / 0.5);
  }

  /* Enhanced Card Interactions */
  .card-interactive {
    @apply transition-all duration-300 ease-out;
  }

  .card-interactive:hover {
    transform: translateY(-4px);
    box-shadow:
      0 20px 40px -10px hsl(190 95% 55% / 0.1),
      0 0 0 1px hsl(190 95% 55% / 0.2);
  }

  /* Animations */
  .hover-lift {
    @apply transition-transform duration-300 hover:-translate-y-1;
  }

  /* Skeleton loading animation */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }

    100% {
      background-position: 200% 0;
    }
  }

  .skeleton {
    @apply bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800;
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  /* Status indicator dots */
  .status-dot {
    @apply inline-block w-2 h-2 rounded-full;
  }

  .status-dot-success {
    @apply bg-emerald-500 animate-pulse;
  }

  .status-dot-warning {
    @apply bg-amber-500 animate-pulse;
  }

  .status-dot-danger {
    @apply bg-red-500 animate-pulse;
  }
}

/* Calendar Customization */
.rbc-calendar {
  @apply font-sans;
}

.rbc-header {
  @apply py-4 font-semibold text-muted-foreground border-b border-border/50;
}

.rbc-month-view {
  @apply border-none rounded-2xl overflow-hidden bg-card/50 backdrop-blur-sm shadow-sm;
}

.rbc-day-bg {
  @apply border-l border-border/30;
}

.rbc-off-range-bg {
  @apply bg-muted/20;
}

.rbc-today {
  @apply bg-primary/5;
}

.rbc-event {
  @apply rounded-md shadow-sm border-0 p-1 transition-all hover:brightness-110;
}

.rbc-toolbar {
  @apply mb-6 flex-wrap gap-4;
}

.rbc-toolbar button {
  @apply px-4 py-2 rounded-full border border-border bg-background text-foreground hover:bg-accent hover:text-accent-foreground transition-colors !important;
}

.rbc-toolbar button.rbc-active {
  @apply bg-primary text-primary-foreground border-primary !important;
}

/* Hide Time and Date Columns in Agenda View (We will show date in the event itself) */
.rbc-agenda-time-cell,
.rbc-agenda-date-cell,
.rbc-agenda-view .rbc-header:nth-child(1),
.rbc-agenda-view .rbc-header:nth-child(2) {
  @apply hidden !important;
}


*:focus-visible {
  @apply outline-2 outline-offset-2 outline-primary/50 rounded-sm;
}

/* RTL Support */
[dir="rtl"] {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, 'Cairo', 'Noto Sans Arabic', sans-serif;
}

/* Fix margins and paddings for RTL */
[dir="rtl"] .ml-2 {
  margin-right: 0.5rem;
  margin-left: 0;
}

[dir="rtl"] .mr-2 {
  margin-left: 0.5rem;
  margin-right: 0;
}

[dir="rtl"] .ml-4 {
  margin-right: 1rem;
  margin-left: 0;
}

[dir="rtl"] .mr-4 {
  margin-left: 1rem;
  margin-right: 0;
}

[dir="rtl"] .ml-auto {
  margin-right: auto;
  margin-left: 0;
}

[dir="rtl"] .mr-auto {
  margin-left: auto;
  margin-right: 0;
}

[dir="rtl"] .text-left {
  text-align: right;
}

[dir="rtl"] .text-right {
  text-align: left;
}

[dir="rtl"] .pl-4 {
  padding-right: 1rem;
  padding-left: 0;
}

[dir="rtl"] .pr-4 {
  padding-left: 1rem;
  padding-right: 0;
}

[dir="rtl"] .pl-6 {
  padding-right: 1.5rem;
  padding-left: 0;
}

[dir="rtl"] .pr-6 {
  padding-left: 1.5rem;
  padding-right: 0;
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 *
 * <element className="hover-elevate" />
 * <element className="active-elevate-2" />
 *
 * // Using the tailwind utility when a data attribute is "on"
 * <element className="toggle-elevate data-[state=on]:toggle-elevated" />
 * // Or manually controlling the toggle state
 * <element className="toggle-elevate toggle-elevated" />
 *
 * Elevation systems have to handle many states.
 * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)
 * - toggled or not
 * - focused or not (this is not handled with these utilities)
 *
 * Even without handling focused or not, this is six possible combinations that
 * need to be distinguished from eachother visually.
 */
@layer utilities {

  /* Hide ugly search cancel button in Chrome until we can style it properly */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of
   * buttons/badges can remove the automatic brightness adjustment on interactions
   * and program their own. */
  .no-default-hover-elevate {}

  .no-default-active-elevate {}


  /**
   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.
   * This way they can stack/compound. Both will overlap the parent's borders!
   * So borders will be automatically adjusted both on toggle, and hover/active,
   * and they will be compounded.
   */
  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: -1;
    /* sits behind content but above backdrop */
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.toggle-elevate::before {
    inset: -1px;
  }

  /* Does not work on elements with overflow:hidden! */
  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: 999;
    /* sits in front of content */
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {
    inset: -1px;
  }

  /* Modern animations and transitions */
  .transition-smooth {
    @apply transition-all duration-200 ease-in-out;
  }

  /* Enhanced card hover effects */
  .card-hover {
    @apply transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5;
  }

  /* Subtle pulse animation for important elements */
  @keyframes subtle-pulse {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.9;
    }
  }

  .pulse-subtle {
    animation: subtle-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Smooth fade in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out forwards;
  }

  /* Modern loading spinner */
  @keyframes spin-smooth {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin-smooth {
    animation: spin-smooth 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  }

  /* Interactive button styles */
  .btn-modern {
    @apply transition-all duration-200 hover:scale-105 active:scale-95;
  }

  /* Glass morphism effect for cards - Enhanced */
  .glass-effect {
    @apply bg-white/80 dark:bg-white/5 backdrop-blur-sm;
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  /* Gradient text effect */
  .gradient-text {
    @apply bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent;
  }

  /* Modern input focus - Enhanced with glow */
  input:focus,
  textarea:focus,
  select:focus {
    @apply ring-2 ring-primary/20 border-primary/50 transition-all duration-200;
    box-shadow: 0 0 0 4px hsl(var(--primary) / 0.1);
  }

  /* Smooth badge animations */
  .badge-animate {
    @apply transition-all duration-200 hover:scale-105;
  }

  /* Table row hover with subtle highlight */
  tr:hover td {
    @apply transition-colors duration-150;
  }

  /* Modern scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-700 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-600;
  }

  /* Skeleton loading animation */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }

    100% {
      background-position: 200% 0;
    }
  }

  .skeleton {
    @apply bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-800 dark:via-gray-700 dark:to-gray-800;
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  /* Modern gradient backgrounds */
  .gradient-bg-primary {
    @apply bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500;
  }

  .gradient-bg-success {
    @apply bg-gradient-to-br from-emerald-400 to-teal-600;
  }

  .gradient-bg-warning {
    @apply bg-gradient-to-br from-amber-400 to-orange-600;
  }

  .gradient-bg-danger {
    @apply bg-gradient-to-br from-rose-400 to-red-600;
  }

  /* Subtle gradient overlays for cards */
  .card-gradient-overlay {
    @apply relative overflow-hidden;
  }

  .card-gradient-overlay::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent pointer-events-none;
  }

  /* Modern glow effects */
  .glow-primary {
    @apply shadow-lg shadow-primary/25;
  }

  .glow-success {
    @apply shadow-lg shadow-emerald-500/25;
  }

  .glow-warning {
    @apply shadow-lg shadow-amber-500/25;
  }

  .glow-danger {
    @apply shadow-lg shadow-red-500/25;
  }

  /* Subtle background patterns */
  .pattern-dots {
    background-image: radial-gradient(circle, currentColor 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.03;
  }

  .pattern-grid {
    background-image:
      linear-gradient(currentColor 1px, transparent 1px),
      linear-gradient(90deg, currentColor 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.03;
  }

  /* Enhanced focus states */
  .focus-ring-primary:focus {
    @apply ring-2 ring-primary/40 ring-offset-2 ring-offset-background;
  }

  .focus-ring-success:focus {
    @apply ring-2 ring-emerald-500/40 ring-offset-2 ring-offset-background;
  }

  /* Modern divider with gradient */
  .divider-gradient {
    @apply h-px bg-gradient-to-r from-transparent via-border to-transparent;
  }

  /* Floating action button style */
  .fab {
    @apply fixed bottom-6 right-6 z-50 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110;
  }

  /* RTL support for FAB */
  [dir="rtl"] .fab {
    @apply left-6 right-auto;
  }

  /* Status indicator dots */
  .status-dot {
    @apply inline-block w-2 h-2 rounded-full;
  }

  .status-dot-success {
    @apply bg-emerald-500 animate-pulse;
  }

  .status-dot-warning {
    @apply bg-amber-500 animate-pulse;
  }

  .status-dot-danger {
    @apply bg-red-500 animate-pulse;
  }

  .status-dot-info {
    @apply bg-blue-500 animate-pulse;
  }

  /* Modern tooltip styles */
  .tooltip {
    @apply absolute z-50 px-2 py-1 text-xs font-medium text-white bg-gray-900 rounded-md shadow-lg dark:bg-gray-700;
  }

  /* Smooth number transitions for dashboards */
  .number-transition {
    @apply transition-all duration-500 ease-out;
  }

  /* Premium card effect */
  .card-premium {
    @apply relative overflow-hidden border-0;
    background: linear-gradient(135deg, hsl(var(--card)) 0%, hsl(var(--card)) 100%);
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
  }

  .card-premium:hover {
    box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }

  /* Breathing animation for important elements */
  @keyframes breathe {

    0%,
    100% {
      transform: scale(1);
    }

    50% {
      transform: scale(1.05);
    }
  }

  .animate-breathe {
    animation: breathe 3s ease-in-out infinite;
  }
}